{"version":3,"sources":["Heatmap.js","App.js","index.js"],"names":["Heatmap","props","obs","activities","number","inMin","inMax","outMin","npad","Date","getDay","blocks","dow","wk","blockColor","block","i","className","style","background","Math","max","toString","tooltip","setDate","toISOString","substring","toFixed","console","log","borderBottom","push","SystemProgram","web3","Keypair","Transaction","programID","PublicKey","idl","metadata","address","opts","payee","packCost","LAMPORTS_PER_SOL","datetoday","today","getFullYear","getMonth","padStart","getDate","App","useState","walletAddress","setWalletAddress","inputDate","setInputDate","inputDist","setInputDist","inputUnit","setInputUnit","loading","setLoading","activityAccount","setActivityAccount","setActivities","getProvider","connection","Connection","Provider","window","solana","checkIfWalletIsConnected","isPhantom","connect","onlyIfTrusted","response","publicKey","error","connectWallet","disconnectWallet","disconnect","getActivity","pubKey","provider","program","Program","account","activity","all","memcmp","offset","bytes","toBase58","aa","length","distance","addActivity","doy","getTime","UTC","meters","rpc","accounts","author","wallet","makeActivity","newActivityAccount","generate","tx","add","transfer","fromPubkey","toPubkey","lamports","instruction","systemProgram","programId","send","deleteAcct","deleteActivity","useEffect","onLoad","addEventListener","removeEventListener","pk","href","onClick","navigator","clipboard","writeText","id","type","name","defaultValue","onChange","event","target","value","disabled","src","width","isMobile","role","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0TAEe,SAASA,EAAQC,GAa5B,IAAIC,EAAMD,EAAME,WACXD,IAAKA,EAAM,CAAC,IAMjB,IAJA,IAdgBE,EAAQC,EAAOC,EAAOC,EAclCC,EAAO,IAAIC,KAAK,KAAK,GAAGC,SAGxBC,EAAS,GACLC,EAAM,EAAGA,EAAM,EAAGA,IACxB,IAAI,IAAIC,EAAK,EAAGA,EAHR,GAGkBA,IAAK,CAChC,IACOC,EACAC,EAFHC,EAAQ,EAAHH,EAASD,EAAI,EAGnB,GAAGI,EAAIR,EAEHM,EAAa,UACbC,EAAQ,qBAAaE,UAAU,QAAQC,MAAO,CAACC,WAAWL,IAAxCE,QACf,GAAGd,EAAIc,EAAER,GAAQ,EAAE,CAGtBM,EAAa,kBAD0C,GA7B/CV,EA6BOF,EAAIc,EAAER,GA7BLH,EA6BW,EA7BJC,EA6BMc,KAAKC,IAAL,MAAAD,KAAI,YAAQlB,KA5BrCE,EAASC,IA4BoC,IA7BnBE,EA6BgB,MA5BHD,EAAQD,GAASE,IA6B3Be,WAAW,KAK5C,IACIC,EADU,IAAId,KAAK,IAAIA,KAAK,KAAK,GAAGe,QAAQR,EAAER,EAAK,IAAIiB,cAAcC,UAAU,EAAE,IAC/D,MAAMxB,EAAIc,EAAER,GAAM,SAASmB,QAAQ,GAAG,KAC5DC,QAAQC,IAAIN,GACZR,EAAQ,qBAAaE,UAAU,QAAQC,MAAO,CAACC,WAAWL,EAAYgB,aAAa,QAAS,eAAcP,GAAxFP,QAElBF,EAAa,UACbC,EAAQ,qBAAaE,UAAU,QAAQC,MAAO,CAACC,WAAWL,IAAxCE,GAEtBL,EAAOoB,KAAKhB,GAkBhB,OACI,iCACA,sBAAKE,UAAU,gBAAf,UACE,qBAAKA,UAAU,WACf,qBAAKA,UAAU,mBAAf,iBACA,qBAAKA,UAAU,QAAf,iBACA,qBAAKA,UAAU,QAAf,iBACA,qBAAKA,UAAU,mBAAf,iBACA,qBAAKA,UAAU,QAAf,iBACA,qBAAKA,UAAU,QAAf,iBACA,qBAAKA,UAAU,mBAAf,iBACA,qBAAKA,UAAU,QAAf,iBACA,qBAAKA,UAAU,QAAf,iBACA,qBAAKA,UAAU,mBAAf,iBACA,qBAAKA,UAAU,QAAf,iBACA,qBAAKA,UAAU,mBAAf,iBACA,qBAAKA,UAAU,MAAf,iBACA,qBAAKA,UAAU,MAAf,iBACA,qBAAKA,UAAU,MAAf,iBACCN,O,YC3EHqB,EAAwCC,IAAxCD,cAAeE,EAAyBD,IAAzBC,QAASC,EAAgBF,IAAhBE,YAC1BC,EAAY,IAAIC,YAAUC,EAAIC,SAASC,SAEvCC,EAA6B,YAC7BC,EAAQ,IAAIL,YAAU,gDACtBM,EAAWC,mBAAiB,GAAK,QACnCC,EAAY,IAAIpC,KAChBqC,EAAQD,EAAUE,cAAc,KAAKF,EAAUG,WAAW,GAAG1B,WAAW2B,SAAS,EAAE,KAAK,IAAIJ,EAAUK,UA2Q3FC,EA9PH,WACR,MAA0CC,mBAAS,MAAnD,mBAAOC,EAAP,KAAsBC,EAAtB,KACA,EAAoCF,mBAAS,IAA7C,mBACA,GADA,UAC8BA,mBAAS,KAAvC,mBACH,GADG,UAC+BA,mBAASN,IAA3C,mBAAOS,EAAP,KAAkBC,EAAlB,KACA,EAAkCJ,mBAAS,GAA3C,mBAAOK,EAAP,KAAkBC,EAAlB,KACA,EAAkCN,mBAAS,MAA3C,mBAAOO,EAAP,KAAkBC,EAAlB,KACA,EAA8BR,oBAAS,GAAvC,mBAAOS,EAAP,KAAgBC,EAAhB,KACA,EAA8BV,mBAAS,GAAvC,mBACA,GADA,UAC8CA,sBAA9C,mBAAOW,EAAP,KAAwBC,EAAxB,KACA,EAAoCZ,qBAApC,mBAAOjD,EAAP,KAAmB8D,EAAnB,KAEMC,EAAc,WACnB,IAAMC,EAAa,IAAIC,aA/BT,gCA+B6B3B,GAE3C,OADiB,IAAI4B,IAASF,EAAYG,OAAOC,OAAQ9B,IAIpD+B,GAAwB,iDAAG,gHAEZF,SAAXC,EAFuB,EAEvBA,QAFuB,qBAI1BA,EAAOE,UAJmB,wBAK7B7C,QAAQC,IAAI,yBALiB,SAMN0C,EAAOG,QAAQ,CAAEC,eAAe,IAN1B,OAMvBC,EANuB,OAO7BhD,QAAQC,IAAI,6BAA6B+C,EAASC,UAAUvD,YAC5DgC,EAAiBsB,EAASC,UAAUvD,YARP,gCAW9BM,QAAQC,IAAI,8DAXkB,0DAc/BD,QAAQkD,MAAR,MAd+B,0DAAH,qDAkBrBC,GAAa,iDAAG,uGACCT,SAAXC,EADU,EACVA,QADU,gCAGOA,EAAOG,UAHd,OAGVE,EAHU,OAIhBhD,QAAQC,IAAI,6BAA8B+C,EAASC,UAAUvD,YAC7DgC,EAAiBsB,EAASC,UAAUvD,YALpB,2CAAH,qDAShB0D,GAAgB,iDAAG,wFACxBV,OAAOC,OAAOU,aACd3B,EAAiB,MACjBU,EAAmB,MACnBC,EAAc,MAJU,2CAAH,qDASbiB,GAAW,iDAAG,WAAOC,GAAP,4FAClBrB,GAAW,GADO,kBAGSI,IAHT,cAGRkB,EAHQ,OAIRC,EAAU,IAAIC,IAAQhD,EAAKF,EAAWgD,GAJ9B,SAKGC,EAAQE,QAAQC,SAASC,IAAI,CAC1C,CAACC,OAAQ,CAACC,OAAQ,EAAGC,MAAOT,EAAOU,eANzB,OAKRC,EALQ,OAQpBlE,QAAQC,IAAIiE,EAAGC,OAAQD,GACdA,EAAGC,OAAS,IACX/B,EAAmB8B,EAAG,GAAGjB,WACzBZ,EAAc6B,EAAG,GAAGP,QAAQS,WAXlB,kDAcdpE,QAAQC,IAAI,yBAAZ,MAdc,QAgBlBiC,GAAW,GAhBO,0DAAH,sDAkBXmC,GAAW,iDAAG,2GAEtBnC,GAAW,GACPoC,GAAO,IAAIzF,KAAK8C,GAAW4C,UAAY1F,KAAK2F,IAAIvD,EAAUE,cAAc,EAAE,IAAI,MAAS,EACvFsD,EAAsB,MAAb1C,EAA8B,QAAVF,EAAkB,EAAc,IAAVA,EAAe,EACtE7B,QAAQC,IAAI,SAASqE,EAAKG,GACpBjB,EAAWlB,IACXmB,EAAU,IAAIC,IAAQhD,EAAKF,EAAWgD,GAPtB,SAQhBC,EAAQiB,IAAIL,YAAYC,EAAIG,EAAQ,CACzCE,SAAU,CACTf,SAAUzB,EACVyC,OAAQpB,EAASqB,OAAO5B,aAXJ,OActBf,GAAW,GACXoB,GAAYE,EAASqB,OAAO5B,WAfN,4CAAH,qDAiBX6B,GAAY,iDAAG,2GACjB5C,GAAW,GAEXsB,EAAWlB,IACXmB,EAAU,IAAIC,IAAQhD,EAAKF,EAAWgD,GACtCuB,EAAqBzE,EAAQ0E,YAC/BC,EAAK,IAAI1E,GACV2E,IACF9E,EAAc+E,SAAS,CACtBC,WAAY5B,EAASqB,OAAO5B,UAC5BoC,SAAUvE,EACVwE,SAAUvE,IAEX0C,EAAQ8B,YAAYT,aAAa,KAAM,CAC1BH,SAAU,CACNf,SAAUmB,EAAmB9B,UAC7B2B,OAAQpB,EAASqB,OAAO5B,UACxBuC,cAAepF,EAAcqF,cAjBxB,SAqBjBhC,EAAQD,SAASkC,KAAKT,EAAI,CAACF,IArBV,OAsBjB/E,QAAQC,IAAI,UAAU8E,EAAmB9B,WAIzCf,GAAW,GAEjBoB,GAAYE,EAASqB,OAAO5B,WA5BL,4CAAH,qDA6Cf0C,GAAU,iDAAG,uGAClBzD,GAAW,GAELsB,EAAWlB,IACXmB,EAAU,IAAIC,IAAQhD,EAAKF,EAAWgD,GAJ1B,SAKZC,EAAQiB,IAAIkB,eAAe,CAChCjB,SAAU,CACTf,SAAUzB,EACVyC,OAAQpB,EAASqB,OAAO5B,aARR,OAWlBb,EAAmB,MACnBC,EAAc,MACdH,GAAW,GACXoB,GAAYE,EAASqB,OAAO5B,WAdV,2CAAH,qDAuFhB,OAjBG4C,qBAAU,WACZ,IAAMC,EAAM,iDAAG,wGACRlD,KADQ,2CAAH,qDAIZ,OADAF,OAAOqD,iBAAiB,OAAQD,GACzB,kBAAMpD,OAAOsD,oBAAoB,OAAQF,MAC3C,IAEND,qBAAU,WACT,GAAIpE,EAAe,CAClBzB,QAAQC,IAAI,mBAEZ,IAAIgG,EAAK,IAAIxF,YAAUgB,GACvB6B,GAAY2C,MAEX,CAACxE,IAGD,gCACF,sBAAKpC,UAAU,YAAf,UACC,6BACC,6BAAI,kDAEJoC,EACA,6BACA,+BACC,mBAAGyE,KAAK,IAAI,eAAa,gBAAzB,SAAyC,sBAAMC,QAAS,kBAAMC,UAAUC,UAAUC,UAAU7E,IAAnD,SAAoEA,EAAc3B,UAAU,EAAE,GAAG,SAAI2B,EAAc3B,UAAU,QADvK,OAGC,mBAAGoG,KAAK,IAAIC,QAAS/C,GAArB,SAAuC,qDAGtC,0BAEJ,qBAAK/D,UAAU,YAAf,SACC,sBAAKA,UAAWoC,EAAgB,mBAAmB,YAAnD,UACC,qBAAKpC,UAAU,mBAAf,SACCoC,EA7EC,8BACCU,EACG,gCACA,cAAC/D,EAAD,CAASG,WAAYA,IACrB,0BAASgI,GAAG,eAAZ,UACI,4BAAG,oDACH,sBAAKlH,UAAY,OAAjB,UACI,uBAAOmH,KAAK,OACRD,GAAG,OAAOE,KAAK,OACfC,aAAgBxF,EAChByF,SAAU,SAACC,GAAD,OAAWhF,EAAagF,EAAMC,OAAOC,UACnD,uBAAON,KAAK,SACRD,GAAG,WAAWE,KAAK,WACnBC,aAAe,MACfC,SAAU,SAACC,GAAD,OAAW9E,EAAa8E,EAAMC,OAAOC,UACnD,yBAAQP,GAAG,SACPO,MAAO/E,EACP4E,SAAU,SAACC,GAAD,OAAW5E,EAAa4E,EAAMC,OAAOC,QAFnD,UAGE,wBAAQJ,aAAa,KAArB,gBACA,wBAAQA,aAAa,KAArB,mBAEF,wBAAQP,QAAS9B,GAAa,YAAWpC,EAAS8E,SAAU9E,EAA5D,uBAGd,wBAAQkE,QAASR,GAAY,YAAW1D,EAAxC,+BAGM,0BAASsE,GAAG,cAAZ,UACI,4BAAG,+CACH,0CAAY,+BAAO9E,OAMnB,wBAAQ0E,QAASrB,GAAc,YAAW7C,EAAS8E,SAAU9E,EAA7D,0CA9CN,oCACE,4BAAG,mDAAqB,qBAAK+E,IAAI,0BAA0BC,MAAM,OAA9D,gBACRC,WACA,mBAAGhB,KAAK,4FAA4FiB,KAAK,SAAzG,uBAEA,wBAAQhB,QAAWhD,GAAnB,4BAyFD,qBAAK9D,UAAU,8BC9QnB+H,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.6dcf6477.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Heatmap(props) {\n\n    function scale (number, inMin, inMax, outMin, outMax) {\n        return (number - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\n    }\n    // bg EDF0F3\n    // text 73828C\n    //\n    // bg color: 11191f\n    // dark color: 333333\n    // fill color 546e7a\n    // need to flip, but on the right track\n    // var obs = [1,0,6.3,2.12,1,0,9.9,0,3,1];\n    var obs = props.activities;\n    if (!obs) obs = [0];\n    // console.log(obs);\n    var npad = new Date(2022,0).getDay(); // day of week, n to add before\n    //var dd = Array(npad).fill(0).forEach(z => obs.unshift(z));\n    var nwk = 53;\n    var blocks = [];\n    for(let dow = 0; dow < 7; dow++){\n      for(let wk = 0; wk < nwk; wk++){\n    \tlet i = (wk*7) + (dow%7);\n        var blockColor;\n        var block;\n        if(i < npad){\n            // console.log(i,'blank');\n            blockColor = '#ffffff';\n            block = <div key={i} className=\"block\" style={{background:blockColor}}></div>\n        } else if(obs[i-npad] > 0){\n            // console.log(i, obs[i-npad]);\n            let ll = scale(obs[i-npad],0,Math.max(...obs),90,50) | 0;\n            blockColor = 'hsl(42, 100%, '+ll.toString()+'%)';\n            // console.log(blockcolor)\n            // console.log('hsl(199, 18%, '+ll.toString()+'%)');\n            // blockColor = 'hsl(199, 18%, 40%)';\n            //hsl(199, 18%, 40%)\n            var obsDate = new Date(new Date(2022,0).setDate(i-npad+1)).toISOString().substring(0,10);\n            var tooltip = obsDate+': '+(obs[i-npad]/1609.34).toFixed(1)+'mi';\n            console.log(tooltip);\n            block = <div key={i} className=\"block\" style={{background:blockColor, borderBottom:'none'}} data-tooltip={tooltip}></div>\n        } else {\n            blockColor = '#EDF0F3'; // 141e26\n            block = <div key={i} className=\"block\" style={{background:blockColor}}></div>\n        }\n        blocks.push(block);\n      }\n    }\n\n    // for (var i = 0; i < 365; i++){\n    //     var blockColor;\n    //     if(i < npad){\n    //         blockColor = '#11191f';\n    //     } else if(obs[i-npad] > 0){\n    //         blockColor = '#546e7a';\n    //     } else {\n    //         blockColor =  '#333333';\n    //     }\n    //     blocks.push(\n    //         <div key={i} className=\"block\" style={{background:blockColor}}></div>\n    //     );\n    // };\n\n    return(\n        <figure>\n        <div className=\"contributions\">\n          <div className=\"spacer\"></div>\n          <div className=\"month five-weeks\">jan</div>\n          <div className=\"month\">feb</div>\n          <div className=\"month\">mar</div>\n          <div className=\"month five-weeks\">apr</div>\n          <div className=\"month\">may</div>\n          <div className=\"month\">jun</div>\n          <div className=\"month five-weeks\">jul</div>\n          <div className=\"month\">aug</div>\n          <div className=\"month\">sep</div>\n          <div className=\"month five-weeks\">oct</div>\n          <div className=\"month\">nov</div>\n          <div className=\"month five-weeks\">dec</div>\n          <div className=\"day\">mon</div>\n          <div className=\"day\">wed</div>\n          <div className=\"day\">fri</div>\n          {blocks}\n        </div>\n        </figure>\n    );\n}\n","import React, { useEffect, useState } from 'react';\nimport { Connection, PublicKey, LAMPORTS_PER_SOL } from '@solana/web3.js';\nimport { Program, Provider, web3 } from '@project-serum/anchor';\n// import './App.css';\nimport { isMobile } from 'react-device-detect';\nimport Heatmap from \"./Heatmap\";\nimport idl from './idl.json';\n// SOL price: https://api.binance.com/api/v3/ticker/price?symbol=SOLUSDC\n\nconst { SystemProgram, Keypair, Transaction } = web3;\nconst programID = new PublicKey(idl.metadata.address);\nconst network = 'https://api.devnet.solana.com';\nconst opts = {preflightCommitment: \"processed\"}\nconst payee = new PublicKey('DYuixff6fkkkhrP8twEwWBkZuALyUeZAd4Cg8Vx5puGV');\nconst packCost = LAMPORTS_PER_SOL/10 - 6305760; // 0.1 sol minus rent cost\nvar datetoday = new Date(); // because of ISO weirdness\nvar today = datetoday.getFullYear()+'-'+(datetoday.getMonth()+1).toString().padStart(2,\"0\")+'-'+datetoday.getDate();\n\n\n// const TEST_GIFS = [\n// \t'https://i.giphy.com/media/eIG0HfouRQJQr1wBzz/giphy.webp',\n// \t'https://media3.giphy.com/media/L71a8LW2UrKwPaWNYM/giphy.gif?cid=ecf05e47rr9qizx2msjucl1xyvuu47d7kf25tqt2lvo024uo&rid=giphy.gif&ct=g',\n// \t'https://media4.giphy.com/media/AeFmQjHMtEySooOc8K/giphy.gif?cid=ecf05e47qdzhdma2y3ugn32lkgi972z9mpfzocjj6z1ro4ec&rid=giphy.gif&ct=g',\n// \t'https://i.giphy.com/media/PAqjdPkJLDsmBRSYUp/giphy.webp'\n// ]\n// // Change this up to be your Twitter if you want.\n// const TWITTER_HANDLE = '_buildspace';\n// const TWITTER_LINK = `https://twitter.com/${TWITTER_HANDLE}`;\n\nconst App = () => {\n    const [walletAddress, setWalletAddress] = useState(null);\n    const [inputValue, setInputValue] = useState('');\n    const [gifList, setGifList] = useState([]);\n\tconst [inputDate, setInputDate] = useState(today);\n\tconst [inputDist, setInputDist] = useState(1.0);\n\tconst [inputUnit, setInputUnit] = useState('mi');\n\tconst [loading, setLoading] = useState(false);\n\tconst [balance, setBalance] = useState(0);\n\tconst [activityAccount, setActivityAccount] = useState();\n\tconst [activities, setActivities] = useState();\n\n\tconst getProvider = () => {\n\t\tconst connection = new Connection(network, opts.preflightCommitment);\n\t\tconst provider = new Provider(connection, window.solana, opts.preflightCommitment,);\n\t\treturn provider;\n\t}\n\n\tconst checkIfWalletIsConnected = async () => {\n\t\ttry {\n\t\t\tconst { solana } = window;\n\t\t\tif (solana) {\n\t\t\t\tif (solana.isPhantom) {\n\t\t\t\t\tconsole.log('Phantom wallet found!');\n\t\t\t\t\tconst response = await solana.connect({ onlyIfTrusted: true });\n\t\t\t\t\tconsole.log('Connected with Public Key:',response.publicKey.toString());\n\t\t\t\t\tsetWalletAddress(response.publicKey.toString());\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.log('Solana object not found! Get a Phantom Wallet 👻');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t};\n\n    const connectWallet = async () => {\n        const { solana } = window;\n        if (solana) {\n          const response = await solana.connect();\n          console.log('Connected with Public Key:', response.publicKey.toString());\n          setWalletAddress(response.publicKey.toString());\n        }\n    };\n\n\tconst disconnectWallet = async () => {\n\t\twindow.solana.disconnect();\n\t\tsetWalletAddress(null);\n\t\tsetActivityAccount(null);\n\t\tsetActivities(null);\n\t};\n\n\t// APP FUNCTIONS\n    const requestSol = () => {}\n    const getActivity = async (pubKey) => {\n      setLoading(true);\n      try {\n          const provider = await getProvider();\n          const program = new Program(idl, programID, provider);\n          const aa = await program.account.activity.all([\n              {memcmp: {offset: 8, bytes: pubKey.toBase58(),}},\n          ])\n\t\t  console.log(aa.length, aa);\n          if(aa.length > 0){\n              setActivityAccount(aa[0].publicKey);\n              setActivities(aa[0].account.distance);\n          }\n      } catch (error) {\n          console.log(\"error getting activity\", error);\n      }\n      setLoading(false);\n    };\n    const addActivity = async () => {\n\t\t// get day of get day of year\n\t\tsetLoading(true);\n\t\tlet doy = (new Date(inputDate).getTime() - Date.UTC(datetoday.getFullYear(),0,1))/8.64e7 | 0;\n\t\tlet meters = inputUnit == 'mi' ? inputDist*1609.34|0 : inputDist*1000|0;\n\t\tconsole.log(\"adding\",doy, meters);\n\t\tconst provider = getProvider();\n\t\tconst program = new Program(idl, programID, provider);\n\t\tawait program.rpc.addActivity(doy,meters, {\n\t\t\taccounts: {\n\t\t\t\tactivity: activityAccount,\n\t\t\t\tauthor: provider.wallet.publicKey,\n\t\t\t},\n\t\t});\n\t\tsetLoading(false);\n\t\tgetActivity(provider.wallet.publicKey);\n\t}\n    const makeActivity = async () => {\n        setLoading(true);\n        // try {\n\t\tconst provider = getProvider();\n\t\tconst program = new Program(idl, programID, provider);\n\t\tconst newActivityAccount = Keypair.generate(); // account for the token pack\n\t\tlet tx = new Transaction();\n\t\ttx.add(\n\t\t\tSystemProgram.transfer({\n\t\t\t\tfromPubkey: provider.wallet.publicKey,\n\t\t\t\ttoPubkey: payee,\n\t\t\t\tlamports: packCost,\n\t\t\t}),\n\t\t\tprogram.instruction.makeActivity(2020, {\n                accounts: {\n                    activity: newActivityAccount.publicKey,\n                    author: provider.wallet.publicKey,\n                    systemProgram: SystemProgram.programId,\n                }\n            })\n\t\t);\n\t\tawait program.provider.send(tx, [newActivityAccount]);\n        console.log(\"success\",newActivityAccount.publicKey);\n        // } catch (error) {\n            // console.log(\"Error in making activity pack\");\n        // }\n        setLoading(false);\n        // once txn is complete, get account again\n\t\tgetActivity(provider.wallet.publicKey);\n    }\n\n    // const sendGif = async () => {\n    //     if (inputValue.length > 0) {\n    //       console.log('Gif link:', inputValue);\n    //       setGifList([...gifList, inputValue]);\n    //       setInputValue('');\n    //     } else {\n    //       console.log('Empty input. Try again.');\n    //     }\n    // };\n    // const onInputChange = (event) => {\n    //   const { value } = event.target;\n    //   setInputValue(value);\n    // };\n\n\tconst deleteAcct = async () => {\n\t\tsetLoading(true);\n\t\t// try {\n\t\tconst provider = getProvider();\n\t\tconst program = new Program(idl, programID, provider);\n\t\tawait program.rpc.deleteActivity({\n\t\t\taccounts: {\n\t\t\t\tactivity: activityAccount,\n\t\t\t\tauthor: provider.wallet.publicKey,\n\t\t\t},\n\t\t})\n\t\tsetActivityAccount(null);\n\t\tsetActivities(null);\n\t\tsetLoading(false);\n\t\tgetActivity(provider.wallet.publicKey);\n\t}\n\n\tconst renderNotConnectedContainer = () => (\n        <article>\n          <p><strong>Connect with <img src=\"phantom-icon-purple.svg\" width=\"30\"/> Phantom</strong></p>\n\t\t  {isMobile ? (\n\t\t\t  <a href=\"https://phantom.app/ul/browse/https%3A%2F%2F137.184.49.77?ref=https%3A%2F%2F137.184.49.77\" role=\"button\"> Connect </a>\n\t\t  ) : (\n\t\t\t  <button onClick = {connectWallet}> Connect </button>\n\t\t  )}\n        </article>\n    );\n\n\tconst renderConnectedContainer = () => (\n      <div>\n      {activityAccount ? (\n          <div>\n          <Heatmap activities={activities} />\n          <article id=\"activityForm\">\n              <p><strong>Add Activity</strong></p>\n              <div className = \"grid\">\n                  <input type=\"date\"\n                      id=\"date\" name=\"date\"\n                      defaultValue = {today}\n                      onChange={(event) => setInputDate(event.target.value)}/>\n                  <input type=\"number\"\n                      id=\"distance\" name=\"distance\"\n                      defaultValue = \"1.0\"\n                      onChange={(event) => setInputDist(event.target.value)}/>\n                  <select id=\"metric\"\n                      value={inputUnit}\n                      onChange={(event) => setInputUnit(event.target.value)}>\n                    <option defaultValue=\"mi\">mi</option>\n                    <option defaultValue=\"km\">km</option>\n                  </select>\n                  <button onClick={addActivity} aria-busy={loading} disabled={loading}>Add</button>\n              </div>\n          </article>\n\t\t  <button onClick={deleteAcct} aria-busy={loading}>Delete Account</button>\n          </div>\n      ) : (\n          <article id=\"accountData\">\n              <p><strong>Account</strong></p>\n              <p>Address: <code>{walletAddress}</code></p>\n\t\t\t  {\n\t\t\t\t  // <p>Balance: <code>{balance} SOL</code>\n\t              //     {balance === 0 && <a aria-busy={loading} onClick={requestSol} disabled={loading}>Airdrop test SOL</a>}\n\t              // </p>\n\t\t\t  }\n              <button onClick={makeActivity} aria-busy={loading} disabled={loading}>Buy 2022 Pack (0.1 SOL)</button>\n          </article>\n      )}\n      </div>\n    );\n\n    useEffect(() => {\n\t\tconst onLoad = async () => {\n\t\t\tawait checkIfWalletIsConnected();\n\t\t};\n\t\twindow.addEventListener('load', onLoad);\n\t\treturn () => window.removeEventListener('load', onLoad);\n    }, []);\n\n\tuseEffect(() => {\n\t\tif (walletAddress) {\n\t\t\tconsole.log('Getting data...');\n\t\t\t// Call Solana program here.\n\t\t\tlet pk = new PublicKey(walletAddress);\n\t\t\tgetActivity(pk);\n\t\t}\n\t}, [walletAddress]);\n\n\treturn (\n    <div>\n\t\t<nav className=\"container\">\n\t\t\t<ul>\n\t\t\t\t<li><h1>👋</h1></li>\n\t\t\t</ul>\n\t\t\t{walletAddress ? (\n\t\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"#\" data-tooltip=\"Click to copy\"><code onClick={() => navigator.clipboard.writeText(walletAddress)}>{walletAddress.substring(0,6)+'…'+walletAddress.substring(38)}</code></a>\n\t\t\t\t\t&nbsp;\n\t\t\t\t\t<a href=\"#\" onClick={disconnectWallet}><code>Disconnect</code></a>\n\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t):(<br/>)}\n\t\t</nav>\n\t\t<div className=\"container\">\n\t\t\t<div className={walletAddress ? 'authed-container':'container'}>\n\t\t\t\t<div className=\"header-container\">\n\t\t\t\t{walletAddress ? (\n\t\t\t\t\trenderConnectedContainer()\n\t\t\t\t) : (\n\t\t\t\t\trenderNotConnectedContainer()\n\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"footer-container\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n    </div>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}